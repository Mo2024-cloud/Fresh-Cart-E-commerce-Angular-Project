import{a as $}from"./chunk-BWM6COAC.js";import{l as k}from"./chunk-3ENOZYLN.js";import{a as I}from"./chunk-DAOXAUD5.js";import"./chunk-PITFFU4A.js";import{$ as m,Bb as h,Cb as x,Kb as a,Mb as _,Oa as g,Rb as L,Sb as W,Ta as l,Xb as F,Zb as T,ca as v,lb as C,ma as u,na as f,nb as w,sb as b,tb as S,ub as o,vb as s,wb as d,wc as E,zb as y}from"./chunk-5OUMWQZE.js";var P=(n,i)=>i.id,V=()=>[];function M(n,i){if(n&1){let c=y();o(0,"div",4)(1,"div",5)(2,"div",6),d(3,"img",7),s()(),o(4,"div",8)(5,"div",9)(6,"h3",10),a(7),s(),o(8,"p",11),a(9),F(10,"currency"),s(),o(11,"button",12),h("click",function(){let e=u(c).$implicit,r=x();return f(r.removeItem(e.id))}),d(12,"i",13),s()()(),o(13,"div",14)(14,"button",15),h("click",function(){let e=u(c).$implicit,r=x();return f(r.addToCart(e.id))}),a(15," Add to Cart "),s()()()}if(n&2){let c=i.$implicit,t=i.$index,e=i.$count;w("border-b-2",t!==e-1),l(3),C("src",c.imageCover,g)("alt",c.slug),l(4),_(" ",c.title," "),l(2),_("Price : ",T(10,6,c.price,"GBP"),"")}}function j(n,i){n&1&&(o(0,"div",3),d(1,"img",16),s())}var q=(()=>{let i=class i{constructor(){this.wishproductsList=[],this._WishListService=m($),this.toastr=m(k),this._CartService=m(I)}ngOnInit(){this._WishListService.getWish().subscribe({next:t=>{console.log(t.data),this.wishproductsList=t.data},error:t=>{console.log(t)}})}removeItem(t){this._WishListService.removeFormWish(t).subscribe({next:e=>{this.toastr.success(e.message,"Fresh Cart"),console.log(e),this._WishListService.getWish().subscribe({next:r=>{console.log(r.data),this.wishproductsList=r.data},error:r=>{console.log(r)}})}})}addToCart(t){console.log("hi inside"),this._CartService.addProductToCart(t).subscribe({next:e=>{this.toastr.success(e.message,"Fresh Cart"),console.log(e),this._CartService.cartCount.set(e.numOfCartItems)},error:e=>{console.log(e)}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=v({type:i,selectors:[["app-wish-list"]],standalone:!0,features:[L],decls:6,vars:2,consts:[[1,"bg-light","rounded-lg","shadow","p-4","my-4"],[1,"text-4xl","font-extrabold","text-center"],[1,"flex","flex-col","sm:flex-row","gap-4","py-3",3,"border-b-2"],[1,"w-1/2","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-4","py-3"],[1,"sm:w-1/12"],[1,""],[1,"w-full",3,"src","alt"],[1,"sm:w-11/12","items-center","flex","flex-wrap","justify-between"],[1,"flex","flex-col","gap"],[1,"text-lg","font-semibold"],[1,"text-main"],[1,"text-red-500","hover:opacity-80","w-fit",3,"click"],[1,"fa-regular","fa-trash-can","text-xl"],[1,"p-3"],[1,"btn-main","w-full","text-nowrap",3,"click"],["src","./assets/images/emptyCart.svg","alt","emptyCart",1,"w-full","mx-auto"]],template:function(e,r){if(e&1&&(o(0,"section",0)(1,"h1",1),a(2,"My Wish List"),s(),b(3,M,16,9,"div",2,P,!1,j,2,0,"div",3),s()),e&2){let p;l(3),S((p=r.wishproductsList)!==null&&p!==void 0?p:W(1,V))}},dependencies:[E]});let n=i;return n})();export{q as WishListComponent};
